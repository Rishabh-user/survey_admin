<div class="common-bg">
    <div ngClass="common-heading">
        <div class="col-md-12">
            <h4>Account Details</h4>
            <p>Manage your Track Opinion Profile</p>
        </div>
    </div>

    <div class="account">
        <form>
            <div ngClass="account-picture mb-4">
                <figure>
                    <a href="javascript:" class="me-4">
                        <input type="file" (change)="onFileSelected($event)" accept="image/*" />
                        <img *ngIf="selectedImage" [src]="selectedImage" class="object-fit-cover rounded-circle"
                            width="80" height="80" />
                    </a>
                    <ng-icon name="heroPencil"></ng-icon>
                </figure>
                <figcaption>
                    <h5>Profile Pictures</h5>
                    <h6>PNG, JPG, GIF max size of 5MB</h6>
                </figcaption>
            </div>
            <div class="row">
                <div class="col-md-6 mb-4">
                    <label for="name" class="form-label">First Name</label>
                    <input type="text" class="form-control" [(ngModel)]="firstName" name="firstName"
                        aria-label="First name" (blur)="validateSurvey()">
                    <div *ngIf="!firstname" class="text-danger">First Name is required.</div>
                </div>
                <div class="col-md-6 mb-4">
                    <label for="last" class="form-label">Last Name</label>
                    <input type="text" class="form-control" [(ngModel)]="lastName" name="lastName"
                        aria-label="Last name" (blur)="validateSurvey()">
                    <div *ngIf="!lastname" class="text-danger">Last Name is required.</div>
                </div>
                <div class="col-md-6 mb-4">
                    <label for="contactNo" class="form-label">Contact No</label>
                    <input type="text" class="form-control" [(ngModel)]="contactNo" name="contactNo"
                        (blur)="validateSurvey()">
                    <div *ngIf="!Contact" class="text-danger">Contact is required.</div>
                </div>
                <div class="col-md-6 mb-4">
                    <label for="email" class="form-label">Email Address</label>
                    <input type="email" class="form-control" [(ngModel)]="email" name="email" disabled
                        (blur)="validateSurvey()">
                    <div *ngIf="!emailaddress" class="text-danger">Email is required.</div>
                </div>                
                <div class="col-md-6 mb-4">
                    <label for="email" class="form-label">Role</label>
                    <select class="form-select" disabled>
                        <option selected>{{role}}</option>
                    </select>
                    <div *ngIf="!roletype" class="text-danger">Role is required.</div>
                </div>
                <div class="col-md-6 mb-4">
                    <label for="centerName" class="form-label">Organization Name</label>
                    <input type="text" class="form-control" [(ngModel)]="centerName" name="centerName" disabled
                    (blur)="validateSurvey()">
                    <div *ngIf="!centerName" class="text-danger">Organization Name is required.</div>
                </div>
                <div class="col-md-6 mb-4">
                    <label for="gstNumber" class="form-label">GST Number</label>
                    <input type="text" class="form-control" [(ngModel)]="gstNumber" name="gstNumber"
                    (blur)="validateSurvey()">
                    <div *ngIf="!CompanyGstNumber" class="text-danger">GST Number is required.</div>
                </div>
                <div class="col-md-6 mb-4">
                    <label for="address" class="form-label">Address</label>
                    <input type="text" class="form-control" [(ngModel)]="address" name="address" (blur)="validateSurvey()">
                    <div *ngIf="!Useraddress" class="text-danger">Address is required.</div>
                </div>
                <div class="col-md-6 mb-4">
                    <label for="city" class="form-label">City</label>
                    <input type="text" class="form-control" [(ngModel)]="city" name="city"                         
                    (blur)="validateSurvey()">
                    <div *ngIf="!Usercity" class="text-danger">City is required.</div>
                </div>
                <div class="col-md-6 mb-4">
                    <label for="state" class="form-label">State</label>
                    <input type="text" class="form-control" [(ngModel)]="state" name="state"                         
                    (blur)="validateSurvey()">
                    <div *ngIf="!Userstate" class="text-danger">State is required.</div>
                </div>
                <div class="col-md-6 mb-4">
                    <label for="country" class="form-label">Country</label>
                    <input type="text" class="form-control" [(ngModel)]="country" name="country"                         
                    (blur)="validateSurvey()">
                    <div *ngIf="!Usercountry" class="text-danger">Country is required.</div>
                </div>
                <div class="col-md-6 mb-4">
                    <label for="zip" class="form-label">Zip Code</label>
                    <input type="text" class="form-control" [(ngModel)]="zip" name="zip"                         
                    (blur)="validateSurvey()">
                    <div *ngIf="!Userzip" class="text-danger">Zip Code is required.</div>
                </div>
            </div>
            
            
            
            <div class="change-password upload">
                <a routerLink="javascript:" (click)="openLg(content)">Change Password</a>
                <button type="button" class="btn btn-primary" (click)="postData()">Update<ng-icon
                        name="heroArrowLongRight" class="ms-5"></ng-icon></button>
            </div>
        </form>
        <div class="my-4">            
            <div ngbAccordion>
                <div ngbAccordionItem [collapsed]="true">
                    <h4 ngbAccordionHeader>
                        <button ngbAccordionButton>Purchase Plans</button>
                    </h4>
                    <div ngbAccordionCollapse>
                        <div ngbAccordionBody>
                            <ng-template>
                                <div class="table-responsive">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>Sr No.</th>
                                                <th>Plan Name</th>
                                                <th>Plan Amount</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let plan of plans">
                                                <td>{{plan.id}}</td>
                                                <td>{{plan.planId}}</td>
                                                <td>{{plan.paidAmount}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </ng-template>
                        </div>
                    </div>
                </div>
               
            </div>
        </div>
    </div>
</div>



<ng-template #content let-modal>
    <div class="modal-header">
        <h4 class="modal-title">Change Password</h4>
        <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
    </div>
    <div class="modal-body popup-ques">
        <form>
            <div class="mb-4">
                <label for="current-password" class="form-label">Current Password</label>
                <input id="current" type="password" class="form-control" [(ngModel)]="oldPassword" name="oldPassword"
                    (blur)="password()" />
                <div *ngIf="!oldPasswordrequires" class="text-danger">Field is required.</div>
            </div>
            <div class="mb-4">
                <label for="new-password" class="form-label">New Passward</label>
                <input id="new" type="password" class="form-control" [(ngModel)]="newPassword" name="newPassword"
                    (blur)="password()" />
                <div *ngIf="!newPasswordrequires" class="text-danger">Field is required.</div>
            </div>
            <div class="mb-4">
                <label for="confirm-password" class="form-label">Confirm Passward</label>
                <input id="confirm" type="password" class="form-control" [(ngModel)]="confirmPassword"
                    name="confirmPassword" (blur)="password()" />
                <div *ngIf="!confirmPasswordrequires" class="text-danger">Field is required.</div>
            </div>
        </form>
        <!-- <form [formGroup]="signupForm">
            <div class="mb-4">
                <label for="current-password" class="form-label">Current Password</label>
                <input id="current" type="password" class="form-control" [(ngModel)]="oldPassword" />
                <div *ngIf="signupForm.get('oldPassword')?.errors?.required && signupForm.get('oldPassword')?.touched"
                    class="text-danger">
                    Current Password is required.
                </div>
            </div>
            <div class="mb-4">
                <label for="new-password" class="form-label">New Password</label>
                <input id="new" type="password" class="form-control" [(ngModel)]="newPassword" />
                <div *ngIf="signupForm.get('newPassword')?.errors?.required && signupForm.get('newPassword')?.touched"
                    class="text-danger">
                    New Password is required.
                </div>
                <div *ngIf="signupForm.get('newPassword')?.errors?.minlength && signupForm.get('newPassword')?.touched"
                    class="text-danger">
                    Password must be at least 8 characters long.
                </div>
            </div>
            <div class="mb-4">
                <label for="confirm-password" class="form-label">Confirm Password</label>
                <input id="confirm" type="password" class="form-control" [(ngModel)]="confirmPassword" />
                <div *ngIf="signupForm.get('confirmPassword')?.errors?.required && signupForm.get('confirmPassword')?.touched"
                    class="text-danger">
                    Confirm Password is required.
                </div>
                <div *ngIf="signupForm.get('confirmPassword')?.errors?.passwordMismatch && signupForm.get('confirmPassword')?.touched"
                    class="text-danger">
                    Passwords do not match.
                </div>
            </div>
        </form> -->
    </div>
    <div class="modal-footer upload">
        <button type="button" class="btn close" (click)="modal.close('Close click')">Cancel</button>
        <button type="button" class="btn btn-primary icon" (click)="updatepassword()">Update <ng-icon
                name="heroArrowLongRight" class="ms-4"></ng-icon></button>
    </div>
</ng-template>